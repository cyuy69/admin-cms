<div th:fragment="content">
  <h2>活動管理</h2>
  <div class="tab-header">
    <button id="eventTabBtn" class="active">活動管理</button>
    <button id="ticketTabBtn">票種管理</button>
  </div>

  <section id="eventTab" class="tab-content">
    <h3>新增活動</h3>
    <form
      id="eventForm"
      th:action="@{/api/events/create}"
      method="post"
      enctype="multipart/form-data"
    >
      <div>
        <label for="cover">活動封面：</label>
        <input type="file" id="cover" name="cover" accept="image/*" />
      </div>
      <div>
        <label for="title">活動名稱：</label>
        <input type="text" id="title" name="title" required />
      </div>
      <div>
        <label for="eventStart">活動開始日期：</label>
        <input
          type="datetime-local"
          id="eventStart"
          name="eventStart"
          required
        />
      </div>
      <div>
        <label for="eventEnd">活動結束日期：</label>
        <input type="datetime-local" id="eventEnd" name="eventEnd" required />
      </div>
      <div>
        <label for="ticketStart">售票開始日期：</label>
        <input
          type="datetime-local"
          id="ticketStart"
          name="ticketStart"
          required
        />
      </div>
      <div>
        <label for="address">活動地點：</label>
        <input type="text" id="address" name="address" required />
      </div>
      <div>
        <label for="description">活動描述：</label>
        <textarea id="description" name="description" rows="5"></textarea>
        <!-- TinyMCE 初始化在 JS 中處理 -->
      </div>
      <div class="dropdown-checkbox">
        <label>票種選擇：</label>
        <div class="dropdown">
          <button type="button" id="ticketDropdownToggleBtn">選擇票種 ▼</button>
          <div id="ticketDropdown" class="dropdown-content">
            <!-- JS 動態載入票種 -->
          </div>
        </div>
      </div>
      <div>
        <button type="button">預覽</button>
        <button type="submit">發佈活動</button>
      </div>
    </form>

    <h3>活動列表</h3>
    <div id="eventListContainer">
      <!-- AJAX 載入活動列表 -->
    </div>
  </section>

  <!-- 票種管理區塊 -->
  <section id="ticketTab" class="tab-content">
    <h3>票種管理</h3>
    <form id="ticketForm">
      <div>
        <label for="ticketName">票種名稱：</label>
        <input type="text" id="ticketName" name="ticketName" required />
      </div>
      <div>
        <label for="ticketPrice">票價：</label>
        <input type="number" id="ticketPrice" name="ticketPrice" required />
      </div>
      <div>
        <label for="isLimited">是否限量：</label>
        <select id="isLimited" name="isLimited">
          <option value="false">不限張數</option>
          <option value="true">限量</option>
        </select>
      </div>
      <div id="limitQuantityContainer" style="display: none">
        <label for="limitQuantity">限量張數：</label>
        <input type="number" id="limitQuantity" name="limitQuantity" />
      </div>
      <div>
        <label for="ticketDescription">說明：</label>
        <textarea id="ticketDescription" name="ticketDescription"></textarea>
      </div>
      <button type="submit">新增票種</button>
    </form>

    <h4>已建立票種</h4>
    <div id="ticketListContainer">
      <!-- JS 載入票種列表 -->
    </div>
  </section>
</div>
