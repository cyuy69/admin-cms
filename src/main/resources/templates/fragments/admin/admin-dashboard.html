<div th:fragment="content" class="admin-dashboard-wrapper">
  <div class="admin-header-section">
    <div class="admin-title-group">
      <h2><i class="fas fa-chart-line"></i> 營運儀表板</h2>
      <p class="text-muted">即時監控系統流量、交易與安全性指標</p>
    </div>
    <div class="admin-filter-controls">
      <div class="admin-date-group">
        <label>日期　</label>
        <input type="date" id="adminStartDate" class="admin-form-control" />
        <span class="separator">~</span>
        <input type="date" id="adminEndDate" class="admin-form-control" />
      </div>
      <button id="adminFilterBtn" class="admin-btn-primary">重製日期</button>
    </div>
  </div>

  <div class="admin-stats-grid">
    <div class="admin-stat-card blue">
      <div class="admin-stat-icon"><i class="fas fa-eye"></i></div>
      <div class="admin-stat-info">
        <h5>總瀏覽次數</h5>
        <h3 id="kpiHomepageViews">0</h3>
      </div>
    </div>

    <div class="admin-stat-card orange">
      <div class="admin-stat-icon"><i class="fas fa-shopping-cart"></i></div>
      <div class="admin-stat-info">
        <h5>區間交易成功數</h5>
        <h3 id="kpiTransactions">0</h3>
      </div>
    </div>

    <div class="admin-stat-card green">
      <div class="admin-stat-icon"><i class="fas fa-check-circle"></i></div>
      <div class="admin-stat-info">
        <h5>本日交易成功率</h5>
        <h3 id="kpiSuccessRate">0%</h3>
      </div>
    </div>
  </div>

  <div class="admin-charts-grid">
    <div class="admin-chart-card">
      <div class="admin-card-header">
        <h4>首頁流量趨勢</h4>
      </div>
      <div class="admin-card-body">
        <div class="admin-canvas-wrapper">
          <canvas id="adminTrafficChart"></canvas>
        </div>
      </div>
    </div>
    <div class="admin-chart-card">
      <div class="admin-card-header">
        <h4>訂單交易趨勢</h4>
      </div>
      <div class="admin-card-body">
        <div class="admin-canvas-wrapper">
          <canvas id="adminTxChart"></canvas>
        </div>
      </div>
    </div>
  </div>

  <div class="admin-logs-card">
    <div class="admin-card-header split-header">
      <h4><i class="fas fa-shield-alt"></i> 登入監控日誌</h4>
      <div class="admin-search-box">
        <input
          type="text"
          id="loginLogKeyword"
          placeholder="搜尋帳號 / IP..."
        />
        <button id="loginLogSearchBtn">查詢</button>
      </div>
    </div>

    <div class="admin-table-responsive">
      <table class="admin-modern-table">
        <thead>
          <tr>
            <th>帳號</th>
            <th>登入時間</th>
            <th>IP 位址</th>
            <th>裝置資訊</th>
            <th>狀態</th>
          </tr>
        </thead>
        <tbody id="loginLogTableBody"></tbody>
      </table>
    </div>

    <div class="admin-pagination">
      <button id="loginLogPrev" class="admin-page-btn" disabled>上一頁</button>
      <span id="loginLogPageInfo" class="admin-page-info">1 / 1</span>
      <button id="loginLogNext" class="admin-page-btn">下一頁</button>
    </div>
  </div>
</div>
