<div th:fragment="content">
  <div id="order-section" class="order-section">
    <h2>訂單紀錄</h2>

    <!-- 選擇活動區塊 -->
    <div class="selected-event-box" id="selectedEventBox">
      <div class="selected-event-header">
        <button id="openEventModalBtn" class="select-event-btn">
          選擇活動
        </button>
      </div>

      <div id="selectedEventList" class="selected-event-content">
        <div class="placeholder">(尚未選擇活動)</div>
      </div>
    </div>

    <!-- 訂單查詢框 -->
    <div class="order-search-area">
      <input
        type="text"
        id="orderSearchInput"
        placeholder="搜尋訂單編號或購買人"
      />
      <button id="orderSearchBtn" class="events-btn events-btn-primary">
        查詢
      </button>
    </div>

    <!-- 訂單表格 -->
    <table class="events-table">
      <thead>
        <tr>
          <th>訂單編號</th>
          <th>購買日期</th>
          <th>購買人</th>
          <th>活動名稱</th>
          <th>購票數</th>
          <th>訂單狀態</th>
          <th>詳細</th>
        </tr>
      </thead>
      <tbody id="orderTableBody">
        <!-- 動態載入 -->
      </tbody>
    </table>
  </div>

  <!-- 選擇活動 Modal -->
  <div id="eventModal" class="event-modal">
    <div class="event-modal-content">
      <h3>選擇活動</h3>

      <!-- 搜尋活動 -->
      <input
        type="text"
        id="eventSearchInput"
        class="event-search-input"
        placeholder="搜尋活動名稱..."
      />

      <!-- 活動列表（動態載入 checkbox） -->
      <div id="eventList" class="event-list"></div>
      <div id="eventShowMore" class="event-show-more" style="display: none">
        顯示更多
      </div>

      <!-- 按鈕列 -->
      <div class="event-modal-footer">
        <button id="eventModalClose" class="events-btn events-btn-primary">
          關閉
        </button>
        <button id="eventModalApply" class="events-btn events-btn-primary">
          套用選擇
        </button>
        <button
          id="clearEventSelectionBtn"
          class="events-btn events-btn-primary"
        >
          清空選擇
        </button>
      </div>
    </div>
  </div>

  <!-- 訂單明細 Modal -->
  <div id="orderDetailModal" class="event-modal">
    <div class="event-modal-content order-detail-modal">
      <h3>訂單明細</h3>

      <table class="order-detail-table">
        <thead>
          <tr>
            <th>票種名稱</th>
            <th>數量</th>
            <th>單價</th>
            <th>小計</th>
          </tr>
        </thead>
        <tbody id="orderDetailTbody">
          <!-- 動態載入 -->
        </tbody>

        <tfoot>
          <tr class="order-detail-total-row">
            <td colspan="3" style="text-align: right">總金額</td>
            <td id="orderDetailTotal"></td>
          </tr>
        </tfoot>
      </table>

      <button id="orderDetailClose" class="order-detail-close-btn">關閉</button>
    </div>
  </div>
</div>
